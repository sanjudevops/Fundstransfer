var ContactUsEditor=Vue.component("contactus-editor",{template:"#contactus-editor",data:()=>({topic:"",content:{key:"",value:"Add content"}}),computed:{contactUs:()=>store.getters.contactUs},methods:{addTopic(t){store.state.contactUs.topics||(store.state.contactUs.topics=[]),store.state.contactUs.topics.push(this.topic),this.topic=""},dropTopic(t){var e=store.state.contactUs.topics.indexOf(t);e>-1&&store.state.contactUs.topics.splice(e,1)},addContent(t){console.log("adding content -> "+t.key);let e=$("#editor").summernote("code");store.commit("addContent",{key:t.key,value:e})},dropContent(t){console.log("dropping content -> "+t),this.$delete(store.state.contactUs.content,t)},selectContent(t){console.log("selected content -> "+t),this.content={key:t,value:store.state.contactUs.content[t]},$("#editor").summernote("code",store.state.contactUs.content[t])}},mounted(){$("#editor").summernote({focus:!0}).summernote("code","Add content");$("#save").on("click",function(t){console.log(JSON.stringify(store.state.contactUs)),$.ajax({url:"/admin/contact/"+store.state.siteId,type:"put",dataType:"json",data:store.state.contactUs,success:function(t){console.log(t),store.commit("refreshData",t),eventHub.$emit("alert",{type:"success",message:"saved successfully"})},error:function(t){eventHub.$emit("alert",{type:"warning",message:t.responseText})}})})}});const eventHub=new Vue,store=new Vuex.Store({state:{user:{},siteId:"",contactUs:{title:"",subTitle:"",header:"",subHeader:"",actionBtn:"",subscribeText:"",content:{},topics:[],phone:"",email:"",times:"",social:""}},getters:{contactUs:t=>t.contactUs},mutations:{refreshData(t,e){t.user=e.user,t.siteId=e.siteId,t.contactUs=e.contactUs},addContent(t,e){t.contactUs.content||Vue.set(t.contactUs,"content",{}),Vue.set(t.contactUs.content,e.key,e.value)}}});var AlertFeedback=Vue.component("alert-feedback",{template:"#alert-feedback",data:()=>({alert:{message:"",type:"warning"}}),computed:{alertType(){switch(this.alert.type){case"warning":return"alert-warning";case"success":return"alert-success";default:return"alert-info"}}},methods:{closeAlert(){this.alert.message=""}},mounted(){let t=this;eventHub.$on("alert",function(e){t.alert=e,e.close&&setTimeout(function(){t.alert.message=""},e.close)})}}),app=new Vue({el:"#app",mounted(){$.ajax({url:"/admin/contact",type:"get",dataType:"json",success:function(t){store.commit("refreshData",t)}})}});